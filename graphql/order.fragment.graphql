fragment PaginatedOrderResponse on PaginatedOrderResponse {
    items {
        ...Order
    }
    hasMore
    total
}

fragment Order on Order {
    id
    purchases(take: 1) {
        items {
            product {
                image
            }
        }
        hasMore
        total
    }
    phone
    address
    status
}

fragment OrderDetail on Order {
    id
    purchases {
        ...PaginatedPurchaseResponse
    }
    phone
    address
    status
}

fragment PaginatedPurchaseResponse on PaginatedPurchaseResponse {
    items {
        ...Purchase
    }
    hasMore
    total
}

fragment Purchase on Purchase {
    id
    product {
        ...Product
    }
    quantity
}
